"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,r){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=function(t){return new i(t)};function e(t,e,n){var i,r=2<arguments.length&&void 0!==n&&n,s=!1;return i=h.isString(t)?(s=!0,t.split("")):t,r?i.splice(i.length-e,e):i.splice(0,e),s?i.join(""):i}function c(t){var e={};return f(h.attrs(t),function(){e[this]=t.getAttribute(this)}),e}function f(t,e){for(var n=0;n<t.length;n++)e.call(t[n],n)}h.toObject=function(t){return JSON.parse(t)},h.toJson=function(t){return JSON.stringify(t)},h.toNum=h.toNumber=function(t){return Number(t)},h.toString=function(t){return h.isLoopable(t)?JSON.stringify(t):t.toString()},h.toArray=function(t){var e=[];return f(t,function(){e.push(this)}),e},h.isArray=function(t){return"HTMLCollection"===t.constructor.name||"NodeList"===t.constructor.name||Array.isArray(t)},h.isElement=function(e){try{return e instanceof HTMLElement}catch(t){return"object"===_typeof(e)&&1===e.nodeType&&"object"===_typeof(e.style)&&"object"===_typeof(e.ownerDocument)}},h.isString=function(t){return"string"==typeof t},h.isNumber=h.isNum=function(t){return"number"==typeof t},h.isEmpty=function(t){return 0===h.keys(t).length},h.isEqual=function(t,e){return JSON.stringify(t)==JSON.stringify(e)},h.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},h.isLoopable=h.isIterable=function(t){return!h.isEmpty(t)},h.isSame=function(t,e){return h.isElement(t)&&h.isElement(e)?t.isSameNode(e):t==e},h.escape=function(t){var e=t;return f(n,function(t){e=e.replace(new RegExp(t,"g"),this)}),e},h.unescape=function(t){var e=t;return f(n,function(t){e=e.replace(new RegExp(this,"g"),t)}),e},h.keys=function(t){return Object.keys(t)},h.values=function(t){for(var e=[],n=h.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e},h.isContains=function(t,e){var n=!1;return f(t,function(){if(h.isSame(this,e))return n=!0}),n},h.ready=function(t){window.addEventListener("DOMContentLoaded",t,!1)},h.random=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return h.isArray(t)?t[0+Math.floor(Math.random()*(t.length-0+1))]:(null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1)))},h.map=function(t,e,n){var i=Object.assign({},t),r=h.keys(t);if(null!==n||void 0!==n)for(var s=0;s<r.length;s++)i[r[s]]=e.call(n,r[s],t[r[s]],t);else for(var o=0;o<r.length;o++)i[r[o]]=e.call(t[r[o]],r[o],t);return i},h.reduce=h.foldl=function(t,e,n){for(var i=h.keys(t),r=t[i[0]],s=1;s<i.length;s++)r=e(r,t[i[s]],t);return r},h.reduceRight=h.foldr=function(t,e,n){for(var i=h.keys(t),r=t[i[i.length-1]],s=i.length-2;0<=s;s--)r=e(r,t[i[s]],t);return r},h.find=function(e,n){var i=null;return h.each(e,function(t){if(n(t,this,e))return i=this,!0}),i},h.filter=function(e,n){var i=[];return h.each(e,function(t){n(t,this,e)&&i.push(this)}),i},h.where=function(t,i){var r=[],s=h.keys(i);return h.each(t,function(t){for(var e=!0,n=0;n<s.length;n++)if(this[s[n]]!==i[s[n]]){e=!1;break}e&&r.push(this)}),r},h.reject=function(e,n){var i=[];return h.each(e,function(t){n(t,this,e)||i.push(this)}),i},h.all=h.every=function(e,n){var i=!0;return f(e,function(t){if(!n(t,this,e))return!(i=!1)}),i},h.any=h.some=function(e,n){var i=!1;return f(e,function(t){if(n(t,this,e))return i=!0}),i},h.invoke=function(){var n=arguments,i=n[0];return h.each(i,function(t){for(var e=1;e<n.length;e++)i[t]=this[n[e]]()}),i},h.extend=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(arguments[e]);return t},h.clone=function(t){return h.isArray(t)?[].concat(t):Object.assign({},t)},h.has=function(t,e){return h.isContains(h.keys(t),e)},h.each=h.forEach=function(t,e,n){if(h.isArray(t))for(var i=0;i<t.length;i++){if(!0===(null==n?e.call(t[i],i,t):e.call(n,t[i],i,t)))break}else if(h.isIterable(t))for(var r=h.keys(t),s=0;s<r.length;s++){if(!0===(null==n?e.call(t[r[s]],r[s],t):e.call(n,r[s],t[r[s]],t)))break}},h.dropLast=function(t){return e(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,!0)},h.dropFirst=function(t){return e(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,!1)},h.http=function(t,e){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&("OK"==this.statusText?h.has(e,"onSuccess")&&e.onSuccess.call(this,this.responseText):h.has(e,"onFail")&&e.onFail.call(this,this.responseText))};var i="";h.has(e,"data")&&(i+="?",f(e.data,function(t){i+=t+"="+this+"&"}),i=h.dropLast(i,1));var r=!1;h.has(e,"method")?"get"===e.method.toLowerCase()?n.open("GET",t+i,!0):(n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r=!0):n.open("GET",t+i,!0),h.has(e,"headers")&&f(e.headers,function(t){n.setRequestHeader(t,this)}),r?(i=h.dropFirst(i,1),n.send(i)):n.send()},h.upload=function(){console.warn("$.upload() not implemented yet!")},h.eventStack=[],h.doms=[],h.extension=function(t,e){if(h.has(h,t))throw"The extension name '"+t+"' already exist.";h[t]=e},h.attrs=function(t){return Array.from(t.attributes)},h.render=function(t,e){if(h.isString(e)){var n=document.createElement("div");n.innerHTML=e,e=n.children[0]}h.isString(t)?t=document.querySelector(t):h.isIterable(t)&&(t=t[0]);var i=[];!function t(i,r,s){var e=r;i.length>r.length&&(e=i);for(var o=0,u=0,n=0;n<e.length;n++){var a=!1,l=!1;void 0===r[u]?s(null,i[o],"remove"):void 0===i[o]?(s(r[u],i[i.length-1],"add"),l=!0):function(){var e={tag:i[o].tagName.toLowerCase(),attrs:c(i[o]),children:i[o].children},n={tag:r[u].tagName.toLowerCase(),attrs:c(r[u]),children:r[u].children};n.tag!==e.tag||h.keys(n.attrs).length!==h.keys(e.attrs).length||n.children.length!==e.children.length||r[u].textContent!==i[o].textContent?(s(r[u],i[o],"replace"),a=!0):f(e.attrs,function(t){if(!h.has(n.attrs,t)||n[t]!==e[t])return s(r[u],i[o],"replace"),a=!0})}(),void 0!==r[u]&&void 0!==i[o]&&0<r[u].children.length&&!a&&t(r[u].children,i[o].children,s),u++,l||o++}}(t.children,e.children,function(t,e,n){"replace"===n?(i.push({task:"add",newNode:t,oldNode:e}),i.push({task:"remove",node:e})):"add"===n?i.push({task:"new",newNode:t,oldNode:e}):"remove"===n&&i.push({task:"remove",node:e})});for(var r=0;r<i.length;r++){var s=i[r];"add"===s.task?s.oldNode.parentNode.insertBefore(s.newNode,s.oldNode):"new"===s.task&&(void 0===s.oldNode?t.appendChild(s.newNode):s.oldNode.parentNode.insertBefore(s.newNode,s.oldNode.siblings))}for(var o=0;o<i.length;o++){var u=i[o];"remove"===u.task&&u.node.remove()}};var i=function(){function i(t){_classCallCheck(this,i);var e=this;if(h.isString(t))if(/<[a-z][\s\S]*>/i.test(t)){var n=r.createElement("div");n.innerHTML=t,f(n.children,function(){e.push(this)})}else f(r.querySelectorAll(t),function(){h.isContains(e,this)||e.push(this)});else h.isElement(t)?h.isContains(e,t)||e.push(t):h.isIterable(t)&&f(t,function(){h.isElement(this)&&!h.isContains(e,this)&&e.push(this)})}return _createClass(i,[{key:"extend",value:function(){for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];h.isElement(n)?h.isContains(this,n)||this.push(n):h.isArray(n)?f(n,function(){h.isContains(t,this)||t.push(this)}):"string"==typeof n&&f(r.querySelectorAll(n),function(){h.isContains(t,this)||t.push(this)})}return this}},{key:"addClass",value:function(t){var e=t.split(" ");return f(this,function(){for(var t=0;t<e.length;t++)this.classList.add(e[t].trim())}),this}},{key:"removeClass",value:function(t){var e=t.split(" ");return f(this,function(){for(var t=0;t<e.length;t++)this.classList.remove(e[t].trim())}),this}},{key:"also",value:function(t){t.call(h(this[0]))}},{key:"each",value:function(t,e){if(null==e)for(var n=0;n<this.length;n++)t.call(h(this[n]),n,this);else for(var i=0;i<this.length;i++)t.call(e,i,h(this[i]),this);return this}},{key:"toggleClass",value:function(t){var n=t.split(" ");return f(this,function(){for(var t=0;t<n.length;t++){var e=n[t].trim();this.classList.contains(e)?this.classList.remove(e):this.classList.add(e)}}),this}},{key:"append",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(h.isString(e))for(var n=h(e),i=0;i<n.length;i++)for(var r=0;r<this.length;r++)this[r].appendChild(n[i]);else if(h.isElement(e))for(var s=0;s<this.length;s++)this[s].appendChild(e);else if(h.isIterable(e)||h.isArray(e))for(var o=0;o<e.length;o++)if(h.isElement(e[o]))for(var u=0;u<this.length;u++)this[u].appendChild(e[o])}return this}},{key:"prepend",value:function(){for(var n=this,i=arguments,r=this,t=function(t){var e=i[t];h.isString(e)?f(h(e),function(){var t=this;f(r,function(){this.insertBefore(t,this.childNodes[0])})}):h.isElement(e)?f(n,function(){this.insertBefore(e,this.childNodes[0])}):h.isIterable(e)&&f(e,function(){var t=this;h.isElement(t)&&f(r,function(){this.insertBefore(t,this.childNodes[0])})})},e=0;e<arguments.length;e++)t(e);return this}},{key:"render",value:function(t){return f(this,function(){h.render(this,t)}),this}},{key:"html",value:function(t){if(null==t)return this[0].innerHTML;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this}},{key:"text",value:function(t){if(null==t)return this[0].textContent;for(var e=0;e<this.length;e++)this[e].innerHTML=h.escape(t);return this}},{key:"attr",value:function(t,e){return null==e?this[0].getAttribute(t):(f(this,function(){this.setAttribute(t,e)}),this)}},{key:"prop",value:function(t,e){return this.attr(t,e)}},{key:"on",value:function(t,e){return this.bind(t,e)}},{key:"bind",value:function(t,e){return f(this,function(){h.eventStack.push({element:this,callback:e,event:t}),this.addEventListener(t,function(){e.call(h(this))},!1)}),this}},{key:"unbind",value:function(n){var i=[];return f(this,function(){var e=this;f(h.eventStack,function(t){h.isSame(e,this.element)&&n===this.event&&(e.removeEventListener(n,this.callback),i.push(t))})}),f(i,function(){h.eventStack.splice(this,1)}),this}},{key:"clear",value:function(){var n=[];return f(this,function(){var e=this;f(h.eventStack,function(t){h.isSame(e,this.element)&&(e.removeEventListener(event,this.callback),n.push(t))})}),f(n,function(){h.eventStack.splice(this,1)}),this}},{key:"disable",value:function(){return f(this,function(){this.disabled=!0}),this}},{key:"enable",value:function(){return f(this,function(){this.disabled=!1}),this}},{key:"isDisabled",value:function(){return this[0].disabled}},{key:"children",value:function(t){return 0<arguments.length&&void 0!==t&&t?this[0].childNodes:this[0].children}},{key:"click",value:function(t){return this.bind("click",t)}},{key:"css",value:function(n,t){var i=this;return null==t?f(h.keys(n),function(){var t=this,e=n[t];f(i,function(){this.style[t]=e})}):f(this,function(){this.style[n]=t}),this}},{key:"siblings",value:function(){var t=[],e=this[0];return f(e.parentNode.children,function(){h.isSame(this,e)||t.push(this)}),h(t)}},{key:"first",value:function(){return h(this[0])}},{key:"last",value:function(){return h(this[this.length-1])}},{key:"filter",value:function(t){var e=r.createElement("div"),n=[];return f(this,function(){e.innerHTML="",e.appendChild(this.cloneNode()),null===e.querySelector(t)&&n.push(this)}),h(n)}},{key:"height",value:function(t){return null!=t&&h.isNumber(t)?(this.css("height",t+"px"),this):this[0].offsetHeight}},{key:"width",value:function(t){return null!=t&&h.isNumber(t)?(this.css("width",t+"px"),this):this[0].offsetWidth}},{key:"innerHeight",value:function(){return this[0].clientHeight}},{key:"innerWidth",value:function(){return this[0].clientWidth}},{key:"hide",value:function(){return f(this,function(){this.style.visibility="hidden"}),this}},{key:"show",value:function(){return f(this,function(){this.style.visibility="visible"}),this}},{key:"offset",value:function(){for(var t=this[0],e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:n,left:e,x:e,y:n}}},{key:"parent",value:function(){return this[0].parentNode}},{key:"parents",value:function(){var t=[];return f(this,function(){h.isContains(t,this.parentNode)||t.push(this.parentNode)}),h(t)}},{key:"removeAttr",value:function(t){return f(this,function(){this.removeAttribute(t)}),this}},{key:"remove",value:function(){return f(this,function(){this.remove()}),this}},{key:"val",value:function(){return this[0].value}}]),i}();i.prototype.push=Array.prototype.push,i.prototype.pop=Array.prototype.pop,i.prototype.splice=Array.prototype.splice,i.prototype.get=function(t){return h(this[t])},h.plugin=function(t,e){i.prototype[t]=e},t.$=h}(window,document);
//# sourceMappingURL=.maps/domlang.js.map
